<!DOCTYPE html>
<html>
	<head>
		<title>Lucee Documentation :: OSGi</title>
		<base href="">
		<meta content="initial-scale=1.0, width=device-width" name="viewport">
		<link href="assets/css/base.min.css" rel="stylesheet">
		<link href="assets/css/highlight.css" rel="stylesheet">
		<link rel="icon" type="image/png" href="assets/images/favicon.png">
	</head>

	<body class="page" style="margin-bottom:150px;">
		<header class="header">
			<a class="header-logo hidden-lg" href="index.html"><img alt="Lucee" src="assets/images/lucee-logo.png"></a>
			<ul class="nav nav-list pull-right">
				
				
				
					<li>
						<a href="lucee-5-times.html">
							<span class="access-hide">Previous page: Loop - times</span>
							<span class="icon icon-arrow-back icon-lg"></span>
						</a>
					</li>
				
				
					<li>
						<a href="lucee-5-tags.html">
							<span class="access-hide">Previous page: New and modified tags</span>
							<span class="icon icon-arrow-forward icon-lg"></span>
						</a>
					</li>
				
			</ul>
			<span class="header-fix-show header-logo pull-none text-overflow">OSGi</span>
		</header>

		<div class="content">
			<div class="content-heading">
				<div class="container">
					<div class="row">
						<div class="col-lg-10 col-lg-push-1">
							<h1 class="heading">OSGi</h1>
						</div>
					</div>
				</div>
			</div>

			<div class="content-inner">
				<div class="container">
					<div class="row">
						<div class="col-lg-10 col-lg-push-1 body">
							<div class="tile-wrap">
								<div class="tile">
									<ul class="breadcrumb margin-no-top margin-right margin-no-bottom margin-left">
			<li><a href="index.html">Home</a></li>
			
				<li><a href="guides.html">Guides and tutorials</a></li>
			
				<li><a href="lucee-5.html">Lucee 5</a></li>
			
			<li class="active">OSGi</li>
		</ul>
								</div>
							</div>
							<a class="pull-right" href="https://github.com/lucee/lucee-docs/edit/master/docs/04.guides/08.lucee-5/12.osgi/page.md" title="Improve the docs"><i class="fa fa-pencil fa-fw"></i></a>
	<p>#OSGi
<strong>Lucee 5 is completely <a href="http://en.wikipedia.org/wiki/OSGi">OSGi</a> based, OSGi is the defacto standard in most Java enterprise environments, to manage bundles (jar libraries) used by the environment.</strong></p>
<p>This means all libraries used are managed by Lucee itself as OSGi bundles, but this does not end with 3rd party libraries. Lucee handles it's own core as an OSGi bundle, Lucee archives (.lar files) and even our Java based extensions are all OSGi based.</p>
<p>So Lucee 5 is an OSGi engine that manages all libraries used.</p>
<p>##What is the benefit?##
OSGi is a framework used in most major enterprise environments, it is well tested and stable.</p>
<p>OSGi allows for the running of different versions of the same library at the same time. Lucee for example is not using internally  the latest version of the HSQLDB data source, but this does not stop you from using whichever version of this data source you like. OSGi allows you to use whichever version of a library you like, independent of what version of the same library Lucee itself is using or any other applications in the same environment.</p>
<p>We can update <em>every</em> library Lucee is using at any time without issue and without the need to restart the JVM. This means that Lucee patches can include updated libraries, making Lucee a lot more flexible than it was in the past.</p>
<p>##Can I benefit from OSGi somehow?##
Yes you can, Lucee 5.0 also comes with some new build in functions to use OSGi features directly.</p>
<p>Today you use <code>createObject('java',&quot;my.class.Path&quot;)</code> to create Java Objects, but with the power of OSGi under the hood we can do more!</p>
<p>Lucee 5 introduces the function <code>javaProxy()</code> to load Java objects, this functions interface is optimized to OSGi, so you can do something like this:</p>
<div class="highlight"><pre><span class="nv">dtf</span><span class="o">=</span><span class="nf">javaProxy</span><span class="p">(</span><span class="s2">&quot;org.joda.time.format.DateTimeFormat&quot;</span><span class="p">,</span> <span class="s2">&quot;org-joda-time&quot;</span><span class="p">,</span> <span class="s2">&quot;2.1.0&quot;</span><span class="p">);</span>
</pre></div>
<p>The function syntax is:</p>
<div class="highlight"><pre><span class="nf">javaProxy</span><span class="p">(</span><span class="nv">string</span> <span class="nv">className</span> <span class="p">[,</span> <span class="nv">string</span> <span class="nv">bundleName</span><span class="p">,</span> <span class="nv">string</span> <span class="nv">bundleVersion</span><span class="p">]);</span>
</pre></div>
<p>Only the class name is required all other arguments are optional. Lucee will also download the bundles from the update provider automatically if they are not available locally.</p>
<p>The Lucee update provider already provides a wide range of bundles in various versions and this will be added to continuously overtime.</p>
<p>You can therefore load a certain class in a specific version, even, for example, if the Lucee core is using the same class with a different version.</p>
<p>OSGi is the biggest change in the Lucee 5.0 release that brings Lucee to a completely new level. Whilst it maybe not a dazzling new feature, it is a necessary one for an engine to be used in the enterprise segment.</p>
							
						</div>
					</div>
				</div>
			</div>
		</div>

		<footer class="footer">
			<div class="container">
				<p>The Lucee Documentation is developed and maintained by the Lucee Association Switzerland and is licensed under a
					<a rel="license" href="http://creativecommons.org/licenses/by-nc-sa/3.0/">Creative Commons Attribution-NonCommercial-ShareAlike 3.0 Unported License</a>.
				</p>
			</div>
		</footer>
	</body>
</html>