<!DOCTYPE html>
<html>
	<head>
		<title>Lucee Documentation :: &lt;cfquery&gt;</title>
		<base href="">
		<meta content="initial-scale=1.0, width=device-width" name="viewport">
		<link href="assets/css/base.min.css" rel="stylesheet">
		<link href="assets/css/highlight.css" rel="stylesheet">
		<link rel="icon" type="image/png" href="assets/images/favicon.png">
	</head>

	<body class="tag" style="margin-bottom:150px;">
		<header class="header">
			<a class="header-logo hidden-lg" href="index.html"><img alt="Lucee" src="assets/images/lucee-logo.png"></a>
			<ul class="nav nav-list pull-right">
				
				
				
					<li>
						<a href="tag-property.html">
							<span class="access-hide">Previous page: &lt;cfproperty&gt;</span>
							<span class="icon icon-arrow-back icon-lg"></span>
						</a>
					</li>
				
				
					<li>
						<a href="tag-queryparam.html">
							<span class="access-hide">Previous page: &lt;cfqueryparam&gt;</span>
							<span class="icon icon-arrow-forward icon-lg"></span>
						</a>
					</li>
				
			</ul>
			<span class="header-fix-show header-logo pull-none text-overflow">&lt;cfquery&gt;</span>
		</header>

		<div class="content">
			<div class="content-heading">
				<div class="container">
					<div class="row">
						<div class="col-lg-10 col-lg-push-1">
							<h1 class="heading">&lt;cfquery&gt;</h1>
						</div>
					</div>
				</div>
			</div>

			<div class="content-inner">
				<div class="container">
					<div class="row">
						<div class="col-lg-10 col-lg-push-1 body">
							<div class="tile-wrap">
								<div class="tile">
									<ul class="breadcrumb margin-no-top margin-right margin-no-bottom margin-left">
			<li><a href="index.html">Home</a></li>
			
				<li><a href="reference.html">Reference</a></li>
			
				<li><a href="tags.html">Lucee tags</a></li>
			
			<li class="active">&lt;cfquery&gt;</li>
		</ul>
								</div>
							</div>
							<a class="pull-right" href="https://github.com/lucee/lucee-docs/edit/master/docs/03.reference/02.tags/query/tag.md" title="Improve the docs"><i class="fa fa-pencil fa-fw"></i></a>
	<p>Passes SQL statements to a data source. Not limited to queries.</p>

	<h2>Usage</h2>
<div class="highlight"><pre><span class="nt">&lt;cfquery</span>
    <span class="err">[</span><span class="na">name=</span><span class="s">&quot;string&quot;</span><span class="err">]</span>
    <span class="err">[</span><span class="na">result=</span><span class="s">&quot;string&quot;</span><span class="err">]</span>
    <span class="err">[</span><span class="na">dataSource=</span><span class="s">&quot;any&quot;</span><span class="err">]</span>
    <span class="err">[</span><span class="na">dbType=</span><span class="s">&quot;string&quot;</span><span class="err">]</span>
    <span class="err">[</span><span class="na">dbServer=</span><span class="s">&quot;string&quot;</span><span class="err">]</span>
    <span class="err">[</span><span class="na">dbName=</span><span class="s">&quot;string&quot;</span><span class="err">]</span>
    <span class="err">[</span><span class="na">connectString=</span><span class="s">&quot;string&quot;</span><span class="err">]</span>
    <span class="err">[</span><span class="na">username=</span><span class="s">&quot;string&quot;</span><span class="err">]</span>
    <span class="err">[</span><span class="na">password=</span><span class="s">&quot;string&quot;</span><span class="err">]</span>
    <span class="err">[</span><span class="na">maxRows=</span><span class="s">&quot;number&quot;</span><span class="err">]</span>
    <span class="err">[</span><span class="na">blockFactor=</span><span class="s">&quot;number&quot;</span><span class="err">]</span>
    <span class="err">[</span><span class="na">timeout=</span><span class="s">&quot;number&quot;</span><span class="err">]</span>
    <span class="err">[</span><span class="na">cachedAfter=</span><span class="s">&quot;datetime&quot;</span><span class="err">]</span>
    <span class="err">[</span><span class="na">cachedWithin=</span><span class="s">&quot;object&quot;</span><span class="err">]</span>
    <span class="err">[</span><span class="na">provider=</span><span class="s">&quot;string&quot;</span><span class="err">]</span>
    <span class="err">[</span><span class="na">providerDSN=</span><span class="s">&quot;string&quot;</span><span class="err">]</span>
    <span class="err">[</span><span class="na">debug=</span><span class="s">&quot;boolean&quot;</span><span class="err">]</span>
    <span class="err">[</span><span class="na">cachename=</span><span class="s">&quot;string&quot;</span><span class="err">]</span>
    <span class="err">[</span><span class="na">psq=</span><span class="s">&quot;boolean&quot;</span><span class="err">]</span>
    <span class="err">[</span><span class="na">unique=</span><span class="s">&quot;boolean&quot;</span><span class="err">]</span>
    <span class="err">[</span><span class="na">ormoptions=</span><span class="s">&quot;struct&quot;</span><span class="err">]</span>
    <span class="err">[</span><span class="na">returntype=</span><span class="s">&quot;string&quot;</span><span class="err">]</span>
    <span class="err">[</span><span class="na">timezone=</span><span class="s">&quot;string&quot;</span><span class="err">]</span>
    <span class="err">[</span><span class="na">lazy=</span><span class="s">&quot;boolean&quot;</span><span class="err">]</span>
    <span class="err">[</span><span class="na">params=</span><span class="s">&quot;object&quot;</span><span class="err">]</span>
<span class="nt">&gt;</span>
</pre></div>


	
	<p>This tag is also supported within cfscript</p>

	<h2>Attributes</h2>
	
		<div class="table-responsive">
			<table class="table" title="Attributes">
				<thead>
					<tr>
						<th>Attribute</th>
						<th>Description</th>
					</tr>
				</thead>
				<tbody>
					
						<tr>
							<td>
								name<br>
								<sub>(string, optional)</sub>
							</td>
							<td>
								<a class="pull-right" href="https://github.com/lucee/lucee-docs/edit/master/docs/03.reference/02.tags/query/_attributes/name.md" title="Improve the docs"><i class="fa fa-pencil fa-fw"></i></a>
								<p>The name query. Must begin with a letter and may consist of letters, numbers, and the underscore  character, spaces are not allowed. The query name is used later in the page to reference the query's  record set.</p>
							</td>
						</tr>
					
						<tr>
							<td>
								result<br>
								<sub>(string, optional)</sub>
							</td>
							<td>
								<a class="pull-right" href="https://github.com/lucee/lucee-docs/edit/master/docs/03.reference/02.tags/query/_attributes/result.md" title="Improve the docs"><i class="fa fa-pencil fa-fw"></i></a>
								<p>Specifies a name for the structure in which cfquery returns  the result variables.  - SQL: The SQL statement that was executed. (string)  - Cached: If the query was cached. (boolean)  - SqlParameters: An ordered Array of cfqueryparam values. (array)  - RecordCount: Total number of records in the query. (numeric)  - ColumnList: Column list, comma separated. (numeric)  - ExecutionTime: Execution time for the SQL request. (numeric)</p>
							</td>
						</tr>
					
						<tr>
							<td>
								dataSource<br>
								<sub>(any, optional)</sub>
							</td>
							<td>
								<a class="pull-right" href="https://github.com/lucee/lucee-docs/edit/master/docs/03.reference/02.tags/query/_attributes/dataSource.md" title="Improve the docs"><i class="fa fa-pencil fa-fw"></i></a>
								<p>The name of the data source from which this query should retrieve data.</p>
							</td>
						</tr>
					
						<tr>
							<td>
								dbType<br>
								<sub>(string, optional)</sub>
							</td>
							<td>
								<a class="pull-right" href="https://github.com/lucee/lucee-docs/edit/master/docs/03.reference/02.tags/query/_attributes/dbType.md" title="Improve the docs"><i class="fa fa-pencil fa-fw"></i></a>
								<p>support the following values:  - query: for doing a query on a existing query object  - hql: for doing a query on orm</p>
							</td>
						</tr>
					
						<tr>
							<td>
								dbServer<br>
								<sub>(string, optional)</sub>
							</td>
							<td>
								<a class="pull-right" href="https://github.com/lucee/lucee-docs/edit/master/docs/03.reference/02.tags/query/_attributes/dbServer.md" title="Improve the docs"><i class="fa fa-pencil fa-fw"></i></a>
								<p>This attribute has been deprecated and is non-functional.</p>
							</td>
						</tr>
					
						<tr>
							<td>
								dbName<br>
								<sub>(string, optional)</sub>
							</td>
							<td>
								<a class="pull-right" href="https://github.com/lucee/lucee-docs/edit/master/docs/03.reference/02.tags/query/_attributes/dbName.md" title="Improve the docs"><i class="fa fa-pencil fa-fw"></i></a>
								<p>This attribute has been deprecated and is non-functional.</p>
							</td>
						</tr>
					
						<tr>
							<td>
								connectString<br>
								<sub>(string, optional)</sub>
							</td>
							<td>
								<a class="pull-right" href="https://github.com/lucee/lucee-docs/edit/master/docs/03.reference/02.tags/query/_attributes/connectString.md" title="Improve the docs"><i class="fa fa-pencil fa-fw"></i></a>
								<p>This attribute has been deprecated and is non-functional.</p>
							</td>
						</tr>
					
						<tr>
							<td>
								username<br>
								<sub>(string, optional)</sub>
							</td>
							<td>
								<a class="pull-right" href="https://github.com/lucee/lucee-docs/edit/master/docs/03.reference/02.tags/query/_attributes/username.md" title="Improve the docs"><i class="fa fa-pencil fa-fw"></i></a>
								<p>If specified, username overrides the username value specified in the data source setup.</p>
							</td>
						</tr>
					
						<tr>
							<td>
								password<br>
								<sub>(string, optional)</sub>
							</td>
							<td>
								<a class="pull-right" href="https://github.com/lucee/lucee-docs/edit/master/docs/03.reference/02.tags/query/_attributes/password.md" title="Improve the docs"><i class="fa fa-pencil fa-fw"></i></a>
								<p>If specified, password overrides the password value specified in the data source setup.</p>
							</td>
						</tr>
					
						<tr>
							<td>
								maxRows<br>
								<sub>(number, optional)</sub>
							</td>
							<td>
								<a class="pull-right" href="https://github.com/lucee/lucee-docs/edit/master/docs/03.reference/02.tags/query/_attributes/maxRows.md" title="Improve the docs"><i class="fa fa-pencil fa-fw"></i></a>
								<p>Specifies the maximum number of rows to return in the record set.</p>
							</td>
						</tr>
					
						<tr>
							<td>
								blockFactor<br>
								<sub>(number, optional)</sub>
							</td>
							<td>
								<a class="pull-right" href="https://github.com/lucee/lucee-docs/edit/master/docs/03.reference/02.tags/query/_attributes/blockFactor.md" title="Improve the docs"><i class="fa fa-pencil fa-fw"></i></a>
								<p>Specifies the maximum number of rows to fetch at a time from the server. The range is 1,  default to 100. This parameter applies to ORACLE native database drivers and to ODBC drivers.  Certain ODBC drivers may dynamically reduce the block factor at runtime.</p>
							</td>
						</tr>
					
						<tr>
							<td>
								timeout<br>
								<sub>(number, optional)</sub>
							</td>
							<td>
								<a class="pull-right" href="https://github.com/lucee/lucee-docs/edit/master/docs/03.reference/02.tags/query/_attributes/timeout.md" title="Improve the docs"><i class="fa fa-pencil fa-fw"></i></a>
								<p>The maximum number of milliseconds for the query to execute before returning an error  indicating that the query has timed-out. This attribute is not supported by most ODBC drivers.  timeout is supported by the SQL Server 6.x or above driver. The minimum and maximum allowable values  vary, depending on the driver.</p>
							</td>
						</tr>
					
						<tr>
							<td>
								cachedAfter<br>
								<sub>(datetime, optional)</sub>
							</td>
							<td>
								<a class="pull-right" href="https://github.com/lucee/lucee-docs/edit/master/docs/03.reference/02.tags/query/_attributes/cachedAfter.md" title="Improve the docs"><i class="fa fa-pencil fa-fw"></i></a>
								<p>This is the age of which the query data can be</p>
							</td>
						</tr>
					
						<tr>
							<td>
								cachedWithin<br>
								<sub>(object, optional)</sub>
							</td>
							<td>
								<a class="pull-right" href="https://github.com/lucee/lucee-docs/edit/master/docs/03.reference/02.tags/query/_attributes/cachedWithin.md" title="Improve the docs"><i class="fa fa-pencil fa-fw"></i></a>
								<p>possible values are: String "request": If original query was created within the current request, cached query data isused. a timespan (created with function CreateTimeSpan): If original query date falls within the time span, cached query data isused.</p><p>To use cached data, the current query must use the same SQL statement, data source, query name, user name, and password.</p>
							</td>
						</tr>
					
						<tr>
							<td>
								provider<br>
								<sub>(string, optional)</sub>
							</td>
							<td>
								<a class="pull-right" href="https://github.com/lucee/lucee-docs/edit/master/docs/03.reference/02.tags/query/_attributes/provider.md" title="Improve the docs"><i class="fa fa-pencil fa-fw"></i></a>
								<p>This attribute has been deprecated and is non-functional.</p>
							</td>
						</tr>
					
						<tr>
							<td>
								providerDSN<br>
								<sub>(string, optional)</sub>
							</td>
							<td>
								<a class="pull-right" href="https://github.com/lucee/lucee-docs/edit/master/docs/03.reference/02.tags/query/_attributes/providerDSN.md" title="Improve the docs"><i class="fa fa-pencil fa-fw"></i></a>
								<p>This attribute has been deprecated and is non-functional.</p>
							</td>
						</tr>
					
						<tr>
							<td>
								debug<br>
								<sub>(boolean, optional)</sub>
							</td>
							<td>
								<a class="pull-right" href="https://github.com/lucee/lucee-docs/edit/master/docs/03.reference/02.tags/query/_attributes/debug.md" title="Improve the docs"><i class="fa fa-pencil fa-fw"></i></a>
								<p>Used for debugging queries. Specifying this attribute causes the SQL statement submitted to the  data source and the number of records returned from the query to be returned.</p>
							</td>
						</tr>
					
						<tr>
							<td>
								cachename<br>
								<sub>(string, optional)</sub>
							</td>
							<td>
								<a class="pull-right" href="https://github.com/lucee/lucee-docs/edit/master/docs/03.reference/02.tags/query/_attributes/cachename.md" title="Improve the docs"><i class="fa fa-pencil fa-fw"></i></a>
								<p>This attribute has been deprecated and is non-functional.</p>
							</td>
						</tr>
					
						<tr>
							<td>
								psq<br>
								<sub>(boolean, optional)</sub>
							</td>
							<td>
								<a class="pull-right" href="https://github.com/lucee/lucee-docs/edit/master/docs/03.reference/02.tags/query/_attributes/psq.md" title="Improve the docs"><i class="fa fa-pencil fa-fw"></i></a>
								<p>preserve single quote or not</p>
							</td>
						</tr>
					
						<tr>
							<td>
								unique<br>
								<sub>(boolean, optional)</sub>
							</td>
							<td>
								<a class="pull-right" href="https://github.com/lucee/lucee-docs/edit/master/docs/03.reference/02.tags/query/_attributes/unique.md" title="Improve the docs"><i class="fa fa-pencil fa-fw"></i></a>
								<p>Specifies if the object parameter is unique, used only for dbtype=orm or hql</p>
							</td>
						</tr>
					
						<tr>
							<td>
								ormoptions<br>
								<sub>(struct, optional)</sub>
							</td>
							<td>
								<a class="pull-right" href="https://github.com/lucee/lucee-docs/edit/master/docs/03.reference/02.tags/query/_attributes/ormoptions.md" title="Improve the docs"><i class="fa fa-pencil fa-fw"></i></a>
								<p>Object parameter for the entity.</p>
							</td>
						</tr>
					
						<tr>
							<td>
								returntype<br>
								<sub>(string, optional)</sub>
							</td>
							<td>
								<a class="pull-right" href="https://github.com/lucee/lucee-docs/edit/master/docs/03.reference/02.tags/query/_attributes/returntype.md" title="Improve the docs"><i class="fa fa-pencil fa-fw"></i></a>
								<p>one of the following values:  - query: default for all dbtype expect "hql", returns a query object  - array_of_entity: works only with dbtype "hql" and is also the default value for dbtype "hql"</p>
							</td>
						</tr>
					
						<tr>
							<td>
								timezone<br>
								<sub>(string, optional)</sub>
							</td>
							<td>
								<a class="pull-right" href="https://github.com/lucee/lucee-docs/edit/master/docs/03.reference/02.tags/query/_attributes/timezone.md" title="Improve the docs"><i class="fa fa-pencil fa-fw"></i></a>
								<p>the timezone used to convert a date object to a timestamp (string), this value is needed when your database runs in another timezone and you are not using cfqueryparam to to insert dates.</p>
							</td>
						</tr>
					
						<tr>
							<td>
								lazy<br>
								<sub>(boolean, optional)</sub>
							</td>
							<td>
								<a class="pull-right" href="https://github.com/lucee/lucee-docs/edit/master/docs/03.reference/02.tags/query/_attributes/lazy.md" title="Improve the docs"><i class="fa fa-pencil fa-fw"></i></a>
								<p>if "lazy" is set to true (default "false") Lucee does not initially load all the data from the datasource,  in that case the data are only loaded when requested, so this means the data are depending on the datasource connection.  if the datasource connection is gone and the data are not requested yet, lucee throws a error if you try to access the data.  lazy is only working when the following attributes are not used: cachewithin,cacheafter,result</p>
							</td>
						</tr>
					
						<tr>
							<td>
								params<br>
								<sub>(object, optional)</sub>
							</td>
							<td>
								<a class="pull-right" href="https://github.com/lucee/lucee-docs/edit/master/docs/03.reference/02.tags/query/_attributes/params.md" title="Improve the docs"><i class="fa fa-pencil fa-fw"></i></a>
								
							</td>
						</tr>
					
				</tbody>
			</table>
		</div>
	

	<h2>Examples</h2>
	
		<a class="pull-right" href="https://github.com/lucee/lucee-docs/edit/master/docs/03.reference/02.tags/query/_examples.md" title="Improve the docs"><i class="fa fa-pencil fa-fw"></i></a>
		<p><em>There are currently no examples for this tag.</em></p>
							
						</div>
					</div>
				</div>
			</div>
		</div>

		<footer class="footer">
			<div class="container">
				<p>The Lucee Documentation is developed and maintained by the Lucee Association Switzerland and is licensed under a
					<a rel="license" href="http://creativecommons.org/licenses/by-nc-sa/3.0/">Creative Commons Attribution-NonCommercial-ShareAlike 3.0 Unported License</a>.
				</p>
			</div>
		</footer>
	</body>
</html>